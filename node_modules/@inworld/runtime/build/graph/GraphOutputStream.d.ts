import { GraphOutputStreamResponse } from './GraphOutputStreamResponse';
import { GraphOutputStreamDataType } from './nodes/types';
/**
 * Represents a handler for a graph execution using tagged values (V2).
 * This version works with native JS objects instead of BaseData instances.
 */
export declare class GraphOutputStream {
    /**
     * The index of the execution (maintained for backward compatibility).
     */
    readonly index: number;
    /**
     * @internal
     */
    private jsExecution;
    /**
     * Optional callback to call when the stream is finished
     * @internal
     */
    private onStreamFinished?;
    /**
     * Counter for tracking pending responses that haven't completed processing yet.
     */
    private pendingResponses;
    /**
     * Counter for tracking completed responses.
     */
    private completedResponses;
    /**
     * Flag to indicate that no more responses will be created (stream has ended).
     */
    private noMoreResponses;
    /**
     * Creates a new GraphOutputStreamV2 instance.
     * @param jsExecution - The NAPI JsExecution object from graph.start()
     * @internal
     */
    constructor(jsExecution: any);
    /**
     * Gets the next result from the execution.
     * @returns A promise that resolves to the response from the node
     */
    next(): Promise<GraphOutputStreamResponse<GraphOutputStreamDataType>>;
    abort(): void;
    /**
     * Checks if all responses have been completed and calls onStreamFinished if so.
     * This should be called when a response completes or when the stream ends.
     * @internal
     */
    private checkAndCallStreamFinished;
    /**
     *
     * @internal
     */
    setOnFinished(callback: () => void): void;
    /**
     * Enables async iteration over graph output responses.
     */
    [Symbol.asyncIterator](): AsyncIterator<GraphOutputStreamResponse<any>>;
}
