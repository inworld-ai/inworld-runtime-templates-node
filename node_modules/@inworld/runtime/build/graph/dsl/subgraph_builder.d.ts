import { EdgeConditionCallback } from '../nodes/custom/types';
import { CustomEdgeConditionReference } from '../nodes/types';
import { Component, Node, Subgraph } from './graph_config_schema';
import { AbstractNode, INTERNAL_COMPONENTS } from './nodes/abstract_node';
/**
 * Builder class for creating subgraphs with a fluent API.
 * Subgraphs are reusable graph components that can be referenced by other graphs.
 *
 * @example
 * ```typescript
 * const subgraph = new SubgraphBuilder('my_subgraph')
 *   .addParameter({ name: 'user_input', type: 'string' })
 *   .addNode(intentNode)
 *   .addNode(llmNode)
 *   .addEdge(intentNode, llmNode)
 *   .setStartNode(intentNode)
 *   .setEndNode(llmNode)
 *   .build();
 * ```
 */
export declare class SubgraphBuilder {
    private subgraph;
    [INTERNAL_COMPONENTS]: Component[];
    private nodes;
    private edges;
    private startNode;
    private endNode;
    /**
     * Creates a new subgraph builder with the specified ID.
     *
     * @constructor
     * @param {string} id - Unique identifier for the subgraph
     */
    constructor(id: string);
    /**
     * Adds a parameter to the subgraph that can be passed from the parent graph.
     *
     * @param {Object} config - Parameter configuration
     * @param {string} config.name - Parameter name
     * @param {string} config.type - Parameter type ('string', 'number', 'integer', 'boolean')
     *
     * @returns {SubgraphBuilder} The builder instance for method chaining
     */
    addParameter(config: {
        name: string;
        type: 'string' | 'number' | 'integer' | 'boolean';
    }): this;
    private addComponent;
    /**
     * Adds multiple parameters to the subgraph at once.
     *
     * @param {Array<Object>} parameters - Array of parameter configurations
     * @param {string} parameters[].name - Parameter name
     * @param {string} parameters[].type - Parameter type ('string', 'number', 'integer', 'boolean')
     *
     * @returns {SubgraphBuilder} The builder instance for method chaining
     */
    addParameters(parameters: {
        name: string;
        type: 'string' | 'number' | 'integer' | 'boolean';
    }[]): this;
    /**
     * Adds a node to the subgraph.
     *
     * @param {AbstractNode} node - Node to add to the subgraph
     * @returns {SubgraphBuilder} The builder instance for method chaining
     */
    addNode(node: Node | AbstractNode): this;
    private addClassNode;
    /**
     * Adds an edge connecting two nodes in the subgraph.
     *
     * @param {AbstractNode} fromNode - Source node or node ID
     * @param {AbstractNode} toNode - Destination node or node ID
     * @param {Object} [options] - Optional edge configuration
     * @param {string} [options.conditionExpression] - CEL expression for conditional execution
     * @param {CustomEdgeConditionReference | EdgeConditionCallback} [options.conditionRef] - Reference to a custom edge condition or a callback to register one
     * @param {boolean} [options.optional] - Whether the edge is optional
     * @param {boolean} [options.loop] - Whether the edge creates a loop
     *
     * @returns {SubgraphBuilder} The builder instance for method chaining
     */
    addEdge(fromNode: AbstractNode | Node | string, toNode: AbstractNode | Node | string, options?: {
        conditionExpression?: string;
        conditionRef?: CustomEdgeConditionReference | EdgeConditionCallback;
        optional?: boolean;
        loop?: boolean;
    }): this;
    /**
     * Sets the start node of the subgraph (subgraphs can only have one start node).
     *
     * @param {AbstractNode} node - Start node or node ID
     * @returns {SubgraphBuilder} The builder instance for method chaining
     */
    setStartNode(node: Node | string | AbstractNode): this;
    /**
     * Sets the end node of the subgraph (subgraphs can only have one end node).
     *
     * @param {AbstractNode} node - End node or node ID
     * @returns {SubgraphBuilder} The builder instance for method chaining
     */
    setEndNode(node: Node | string | AbstractNode): this;
    /**
     * Builds and returns the final subgraph configuration.
     *
     * @returns {Subgraph} The completed subgraph configuration
     * @throws {Error} If the subgraph has no nodes
     */
    build(): Subgraph;
}
