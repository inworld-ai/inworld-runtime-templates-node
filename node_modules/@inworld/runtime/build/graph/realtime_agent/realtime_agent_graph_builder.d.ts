import { GraphBuilder, type GraphBuilderProps } from '../dsl/graph_builder';
import { type RealtimeAgentInputSlicerNodeProps } from '../dsl/nodes/realtime_agent';
import { Graph } from '../graph';
/**
 * Optional overrides for how the realtime agent graph is assembled.
 *
 * @remarks
 * This is intended for advanced use cases where callers want to keep the builtin
 * blueprint but adjust a few implementation details (e.g., interruption event payload).
 */
export interface RealtimeAgentGraphOverrides {
    /**
     * Output template for the interruption event transform node.
     *
     * @default "{'is_interruption': input.is_interruption}"
     */
    interruptionEventOutputTemplate?: string;
}
/**
 * Props for {@link RealtimeAgentGraphBuilder}.
 */
export interface RealtimeAgentGraphBuilderProps extends GraphBuilderProps {
    /**
     * Optional direct substitution values to inject into the graph compilation.
     *
     * @remarks
     * This is merged with {@link GraphBuilderProps.substitutions}. If both specify the same key,
     * the explicit `substitutions` in these props wins.
     */
    substitutions?: Record<string, string>;
    /**
     * Optional convenience values for common blueprint substitutions.
     *
     * @remarks
     * These values are applied into substitutions only if the corresponding key is not already present.
     */
    agentPrompt?: string;
    vadModelPath?: string;
    turnDetectorModelPath?: string;
    groqApiKey?: string;
    /**
     * Optional overrides for graph assembly.
     */
    overrides?: RealtimeAgentGraphOverrides;
    /**
     * Optional tuning for the input slicer node.
     */
    inputSlicer?: Omit<RealtimeAgentInputSlicerNodeProps, 'id' | 'vadComponentId' | 'turnDetectorComponentId'> & {
        /**
         * ID of the VAD component to use.
         * @default "local_vad"
         */
        vadComponentId?: string;
        /**
         * Optional ID of the turn detector component.
         * @default "local_turn_detector"
         */
        turnDetectorComponentId?: string;
    };
    /**
     * Voice selection for the TTS node.
     * @default "Dennis"
     */
    voiceId?: string;
    /**
     * Language code for the TTS voice.
     * @default "en-US"
     */
    voiceLanguageCode?: string;
    /**
     * Selects which STT component the `stt_node` references.
     *
     * @remarks
     * The realtime agent blueprint defines both `inworld_stt` and `groq_stt`
     * components. By default we reference `groq_stt` to match the C++ blueprint,
     * but callers can override this (for example, when GROQ_API_KEY is not available).
     *
     * @default "groq_stt"
     */
    sttComponentId?: string;
}
/**
 * Graph builder that assembles the builtin realtime agent pipeline.
 *
 * @remarks
 * The resulting graph matches the C++ blueprint shape (nodes/edges/conditions),
 * but lets you pass substitutions and a few safe overrides.
 *
 * @example
 * ```typescript
 * import { RealtimeAgentGraphBuilder } from '@inworld/runtime/graph';
 *
 * const agentPrompt = "User: {{user_query}}\\nA:";
 *
 * const g = new RealtimeAgentGraphBuilder({
 *   id: 'my-realtime-agent',
 *   apiKey: process.env.INWORLD_API_KEY,
 *   substitutions: {
 *     AGENT_PROMPT: agentPrompt,
 *     VAD_MODEL_PATH: '/path/to/vad.onnx',
 *     TURN_DETECTOR_MODEL_PATH: '/path/to/turn_detector.onnx',
 *     GROQ_API_KEY: process.env.GROQ_API_KEY ?? '',
 *   },
 * }).build();
 * ```
 */
export declare class RealtimeAgentGraphBuilder extends GraphBuilder {
    /**
     * Creates a new {@link RealtimeAgentGraphBuilder} instance and assembles
     * the builtin realtime agent pipeline.
     *
     * @param {RealtimeAgentGraphBuilderProps} opts - Builder configuration.
     */
    constructor(opts: RealtimeAgentGraphBuilderProps);
    private buildRealtimeAgentPipeline;
}
/**
 * Props for {@link buildRealtimeAgentGraph}.
 */
export type BuildRealtimeAgentGraphProps = RealtimeAgentGraphBuilderProps;
/**
 * Builds a realtime agent graph and returns a {@link Graph} ready for execution.
 *
 * @param {BuildRealtimeAgentGraphProps} props - Graph builder configuration.
 * @returns {Graph} Built graph instance.
 */
export declare function buildRealtimeAgentGraph(props: BuildRealtimeAgentGraphProps): Graph;
