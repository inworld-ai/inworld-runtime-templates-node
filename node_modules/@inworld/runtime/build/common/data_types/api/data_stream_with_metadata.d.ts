import { PbBaseType } from '../../../internal/pb';
import { RuntimeInputStream, TaggedType } from '../../../internal/types';
import { AudioChunkStream } from '../../stream/audio_chunk';
import { ContentStream } from '../../stream/content';
import { MultimodalContentStream } from '../../stream/multimodal_content';
import { TextStream } from '../../stream/text';
import { TTSOutputStream } from '../../stream/tts_output';
import { AbstractApiDataType } from './abstract_api_data_type';
/**
 * Class for wrapping streaming BaseData with arbitrary metadata.
 *
 * This class combines:
 * - A RuntimeInputStream of BaseData
 * - Arbitrary JSON metadata fields
 *
 * The stream's element type is automatically captured in metadata.elementType
 * when converted from C++ (e.g., 'Text', 'Audio', 'Content', 'SimpleBaseData').
 *
 * Example usage:
 * ```typescript
 * const wrapper = new DataStreamWithMetadata(
 *   runtimeInputStream,
 *   { language: "en", source: "llm", model: "gpt-4" }
 * );
 *
 * // Check what type of elements the stream contains
 * if (wrapper.getElementType() === 'Audio') {
 *   // Handle audio stream
 * }
 *
 * // Access stream - automatically detects type from runtime
 * const stream = wrapper.toStream();  // Auto-detects: AudioChunkStream | TextStream | etc.
 * for await (const item of stream) {
 *   console.log(item);
 * }
 *
 * // Runtime will return the correct type based on stream.type property
 * // No need to specify type parameters!
 * ```
 */
export declare class DataStreamWithMetadata extends AbstractApiDataType {
    /**
     * Arbitrary metadata fields.
     * By convention, metadata.elementType contains the stream's element type
     * (e.g., 'Text', 'Audio', 'Content', 'SimpleBaseData').
     */
    readonly metadata: Record<string, any>;
    /**
     * The RuntimeInputStream containing BaseData
     */
    readonly stream: RuntimeInputStream<any>;
    /**
     * Creates a new DataStreamWithMetadata instance.
     * @param streamOrWrapper - RuntimeInputStream of BaseData, TextStream, or any object with getStream() method
     * @param metadata - Arbitrary metadata fields. Can include 'elementType' to
     *                   document what type of elements the stream contains.
     */
    constructor(streamOrWrapper: RuntimeInputStream<any> | TextStream | {
        getStream: () => RuntimeInputStream<any>;
    }, metadata?: Record<string, any>);
    /**
     * Gets the stream.
     *
     * @returns The RuntimeInputStream
     */
    getStream(): RuntimeInputStream<any>;
    /**
     * Gets the metadata.
     *
     * @returns The metadata object
     */
    getMetadata(): Record<string, any>;
    /**
     * Gets the element type of the stream if specified in metadata.
     * This indicates what type of BaseData elements the stream contains
     * (e.g., 'Text', 'Audio', 'Content', 'SimpleBaseData').
     *
     * @returns The element type string, or undefined if not specified
     */
    getElementType(): string | undefined;
    /**
     * Converts the underlying NAPI stream to the appropriate typed stream wrapper.
     *
     * Auto-detects the stream type from:
     * 1. metadata.elementType (set by C++ when creating DataStreamWithMetadata)
     * 2. stream.type property (fallback for direct streams)
     *
     * Returns the correct wrapper (TextStream, AudioChunkStream, ContentStream, or TTSOutputStream).
     *
     * @returns The appropriate stream wrapper based on runtime type detection
     *
     * @example
     * // Auto-detect from runtime - works for any stream type:
     * const stream = wrapper.toStream();
     * for await (const item of stream) {
     *   // TypeScript knows this is one of the stream types
     *   console.log(item);
     * }
     */
    toStream(): TextStream | AudioChunkStream | ContentStream | MultimodalContentStream | TTSOutputStream;
    /**
     * @deprecated Use toStream() instead. This method will be removed in a future version.
     * Reconstructs a TextStream from the underlying NAPI stream.
     */
    toTextStream(): TextStream;
    /**
     * @deprecated Use toStream() instead. This method will be removed in a future version.
     * Reconstructs an AudioChunkStream from the underlying NAPI stream.
     */
    toAudioChunkStream(): AudioChunkStream;
    /**
     * @deprecated Use toStream() instead. This method will be removed in a future version.
     * Reconstructs a ContentStream from the underlying NAPI stream.
     */
    toContentStream(): ContentStream;
    /**
     * @deprecated Use toStream() instead. This method will be removed in a future version.
     * Reconstructs a TTSOutputStream from the underlying NAPI stream.
     */
    toTTSOutputStream(): TTSOutputStream;
    /** @internal */
    toTaggedValue(): TaggedType;
    /** @internal */
    toProto(): PbBaseType;
}
